#+TITLE: Arch Linux Installation
#+DESCRIPTION: Commands to install Arch Linux in my laptop
#+AUTHOR: Shawn James
#+Youtube Guide URL: https://www.youtube.com/watch?v=PQgyW10xD8s

* network commands
** ping google.com
** if above command failed, follow the commands in https://wiki.archlinux.org/title/Installation_guide#Connect_to_the_internet
* System clock
** timedatectl set-ntp true
** timedatectl status
* Partition the disks
** fdisk -l
** fdisk /dev/sda
** g
** n
** <ENTER>
** <ENTER>
** +550M
** n
** <ENTER>
** <ENTER>
** +2G
** n
** <ENTER>
** <ENTER>
** <ENTER>
** t
** 1
** 1
** t
** 2
** 19
** w
* Format the partitions
** mkfs.fat -F32 /dev/sda1
** mkswap /dev/sda2
** swapon /dev/sda2
** mkfs.ext4 /dev/sda3
* Mount the partitions
** mount /dev/sda3 /mnt
* Install basic packages
** pacstrap /mnt base linux linux-firmware vim
* Fstab
** genfstab -U /mnt >> /mnt/etc/fstab
* Chroot
** arch-chroot /mnt
* Time zone
** ln -sf /usr/share/zoneinfo/Asia/Kolkata /etc/localtime
** hwclock --systohc
* Localization
** vim /etc/locale.gen
** uncomment en_US.UTF-8 UTF-8
** uncomment en_IN.UTF-8
** locale-gen
** vim /etc/locale.conf
** add LANG=en_US.UTF-8
* Network configuration
** vim /etc/hostname
** add linuxarch
** vim /etc/hosts
** add the following:
127.0.0.1   localhost
::1         localhost
127.0.1.1   linuxarch
* Users
** passwd
** set password
** useradd -m shawn
** passwd shawn
** set password for shawn
** usermod -aG wheel,audio,video,optical,storage shawn
** pacman -S sudo
** EDITOR=vim visudo
** uncomment %wheel ALL=(ALL) ALL
* Boot loader
** pacman -S grub efibootmgr dosfstools os-prober mtools
** mkdir /boot/EFI
** mount /dev/sda1 /boot/EFI
** grub-install --target=x86_64-efi --bootloader-id=grub_uefi --recheck
** grub-mkconfig -o /boot/grub/grub.cfg
* Final commands
** pacman -S networkmanager git
** systemctl enable NetworkManager
** exit
** umount -l /mnt
** shutdown now (if installing in virtual machine; remove .iso file and start again)
** reboot (if installing on machine)
* Setting up xorg, window manager etc...
** git clone https://aur.archlinux.org/yay-git.git
** cd yay-git
** makepkg -si
** yay -S nerd-fonts-mononoki lux
** Install appropriate driver for your system(AMD, Nvidia...) in place of xf86-video-fbdev below
** sudo pacman -S xf86-video-fbdev xorg xorg-xinit feh picom kitty firefox base-devel xmonad xmonad-contrib xterm qutebrowser emacs blueman nm-connection-editor modemmanager usb_modeswitch openssh flameshot vifm wget lightdm lightdm-webkit2-greeter imagemagick xmobar accountsservice python-pip
** wget -P ~/.vifm/colors https://raw.githubusercontent.com/vifm/vifm-colors/master/palenight.vifm
** cp /etc/X11/xinit/xinitrc /home/shawn/.xinitrc
** vim ~/.xinitrc
** add the following to the end in place of the lines already there
picom &
exec xmonad

* Other useful commands
** pulseaudio --check
** pulseaudio -D

** sudo systemctl enable bluetooth
** sudo systemctl start bluetooth

** sudo systemctl enable NetworkManager
** sudo systemctl start NetworkManager
** sudo systemctl enable ModemManager
** sudo systemctl start ModemManager
** sudo systemctl restart NetworkManager
** nmcli device wifi list
** nmcli dev wifi con "[SSID_NAME]" password "[password]"
** sudo systemctl enable lightdm
** sudo pacman -S lightdm-webkit2-greeter
** yay -S lightdm-webkit-theme-aether
